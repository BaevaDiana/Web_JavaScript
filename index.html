<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Laboratory work JavaScript</title>
    <script>
        function toggleContent() {
            var x = document.getElementById("myContent");
            if (x.style.display === "none") {
                x.style.display = "block";
            } else {
                x.style.display = "none";
            }

        }
    </script>
    <style>
        body {
            background-color: pink;
        }
        #date {
            position: absolute;
            bottom: 75%;
            left: 50%;
            transform: translateX(-50%);
        }
        #time {
            position: absolute;
            bottom: 72%;
            left: 50%;
            transform: translateX(-50%);
        }
    </style>
</head>

<body>
<h1>Задания по JS - Вариант 15</h1>
<button onclick="toggleContent()">Задание 1 - Дата/время</button>
<div id="myContent" style="display: none;">
    <div id="date"></div>
    <script>
        const date = new Date();
        const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
        const formattedDate = date.toLocaleDateString('ru-US', options);
        document.getElementById('date').innerHTML = formattedDate;
    </script>
    <div id="time"></div>
    <script>
        function updateTime() {
            const date = new Date();
            const options = {
                hour:  'numeric',
                hour12 : true, // время в AM-PM формате
                minute : 'numeric',
                second : 'numeric'
            };
            const formattedTime =date.toLocaleString('en-US', options);
            document.getElementById('time').innerHTML = formattedTime;
        }
        updateTime();
        setInterval(updateTime, 1000);
    </script>
</div>
<button id="myButton" style="position: absolute; top: 200px; left: 7px;">Задание 2 - Календарь</button>
<div id="calendar" style="margin-top: 130px;"></div>
<script>
    function createCalendar(elem, year, month) {
        let mon = month - 1;
        let d = new Date(year, mon);

        let monthNames = ["Январь", "Февраль", "Март", "Апрель", "Май", "Июнь", "Июль", "Август", "Сентябрь", "Октябрь", "Ноябрь", "Декабрь"];

        let table = '<table><tr><th colspan="7">' + monthNames[mon] + ' ' + year + '</th></tr><tr><th>пн</th><th>вт</th><th>ср</th><th>чт</th><th>пт</th><th style="color:red;">сб</th><th style="color:red;">вс</th></tr><tr>';

        for (let i = 0; i < getDay(d); i++) {
            table += '<td></td>';
        }

        while (d.getMonth() == mon) {
            table += '<td>' + d.getDate() + '</td>';

            if (getDay(d) % 7 == 6) {
                table += '</tr><tr>';
            }

            d.setDate(d.getDate() + 1);
        }

        if (getDay(d) != 0) {
            for (let i = getDay(d); i < 7; i++) {
                table += '<td></td>';
            }
        }

        table += '</tr></table>';

        elem.innerHTML = table;
    }

    function getDay(date) {
        let day = date.getDay();
        if (day == 0) day = 7;
        return day - 1;
    }

    document.getElementById("myButton").addEventListener("click", function() {
        var calendar = document.getElementById('calendar');
        createCalendar(calendar, 2023, 3);
    });
</script>

<button id="Task4" style="position: absolute; top: 400px; left: 10px;">Задание 4 - Изменение объекта</button>
<!-- Три элемента div с идентификаторами «block1», «block2» и «block3».
 Функция setTimeout(), ожидает 80 миллисекунд, прежде чем выбрать случайный блок
  и устанавлиявает для его innerHTML значение «Hello World!».-->
<div id="block1" style="width: 100px; height: 100px; background-color: red; display: none; margin-top: 40px;"></div>
<div id="block2" style="width: 100px; height: 100px; background-color: blue; display: none; margin-top: 40px;"></div>
<div id="block3" style="width: 100px; height: 100px; background-color: green; display: none; margin-top: 40px;"></div>

<script>
    document.getElementById("Task4").addEventListener("click", function() {
        document.getElementById("block1").style.display = "inline-block";
        document.getElementById("block2").style.display = "inline-block";
        document.getElementById("block3").style.display = "inline-block";
        setTimeout(function() {
            var blocks = document.querySelectorAll("div[id^='block']");
            var index = Math.floor(Math.random() * blocks.length);
            blocks[index].innerHTML = "Hello World!";
        }, 80);
    });
</script>
</body>
</html>